我接下来学啥。使用bpf在Linux TCP协议栈之外做HTTP filter

https://github.com/zhangguanzhang/consul-tls-ansible


ansible-playbook -i conf/etcd.conf -i conf/k8s.conf -i conf/share_var.conf --private-key=/root/.ssh/id_rsa -u xxx  -b --become-method=sudo tasks/00.test.yml


inventory没固定，你可以-i指定

内置变量可以用setup看下

王不二尼大妈 22:22:43
好的

张馆长 22:23:26
- hosts: all
  gather_facts: true
  tasks:
  - name: test
    debug: var=hostvars


然后渲染语法，例如我想对inventory文件中的host，都打出来怎么护理

value: {% for h in ansible_play_hosts_all %}{{ h }}:2181{% if not loop.last%},{% endif %}{% endfor%}

这个all是只inventory文件的tag吗

value: ip1:2181,ip2:2181,ip3:2181

all就是所有


是group是吧


嗯



include就是tasks复用或者condition比较大范围的时候



假如说你在机器1上提供一个对象存储，然后要在每个机器上加hosts，那你可以入口是hosts: all
- include_tasks: storage.yml
  when: inventory_hostname.index == 0
- name: 添加hosts
  ...

这个tags

有什么用


tags是标记，可以执行的时候--tags 来执行指定tags的行为

比如你安装docker，最后肯定有分发配置文件。


后面你想只更新配置文件

你把那个task加tags

https://www.bookstack.cn/read/sdn-handbook/linux-bpf-index.md

https://blog.csdn.net/qq_34827674/article/details/107992414?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_v2~rank_aggregation-2-107992414.pc_agg_rank_aggregation&utm_term=%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F&spm=1000.2123.3001.4430

https://blog.csdn.net/enweitech/article/details/82413831?utm_term=%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F&utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduweb~default-1-82413831&spm=3001.4430

